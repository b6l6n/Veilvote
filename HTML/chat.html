<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../CSS/style.css">
    <link rel="stylesheet" href="../CSS/chat.css">
</head>


<body>
    <header>
        <div class="logo">
            <img src="../IMG/veil.png" alt="Logo">
            <h1>VeilVote</h1>
        </div>


        <nav>
            <ul>
                <li><a href="#">Mi perfil</a></li>
                <li><a href="#">Buscar</a></li>
                <li><a href="#">Añadir</a></li>
            </ul>
        </nav>
    </header>

    <main>
    <div class="chat-container" id="chat">
        <!-- Aquí se mostrarán los mensajes -->
    </div>
    <div class="input-container">
        <input type="text" id="messageInput" placeholder="Escribe un mensaje..." readonly>
        <button class="send-button" onclick="sendMessage()">Enviar</button>
    </div>


    <div class="keyboard">
        <button class="key">Q</button><button class="key">W</button><button class="key">E</button>
        <button class="key">R</button><button class="key">T</button><button class="key">Y</button>
        <button class="key">U</button><button class="key">I</button><button class="key">O</button><button class="key">P</button>
        <button class="key">A</button><button class="key">S</button><button class="key">D</button>
        <button class="key">F</button><button class="key">G</button><button class="key">H</button>
        <button class="key">J</button><button class="key">K</button><button class="key">L</button><button class="key">Ñ</button>
        <button class="key">Z</button><button class="key">X</button><button class="key">C</button>
        <button class="key">V</button><button class="key">B</button><button class="key">N</button><button class="key">M</button>
        <button class="key"> </button> <!-- BARRA ESPACIADORA -->
        <button class="key special" id="deleteKey">←</button>
        <button class="key special" id="sendKey">❤️</button> 
    </div>
    </main>


    <script>
        const input = document.getElementById("messageInput");
        const chat = document.getElementById("chat");

        // Agregar texto al input cuando se presiona una tecla del teclado virtual
        document.querySelectorAll(".key").forEach(key => {
            key.addEventListener("click", () => {
                if (key.id === "deleteKey") {
                    input.value = input.value.slice(0, -1); // Borra el último carácter
                } else if (key.id === "sendKey") {
                    sendMessage(); // Call sendMessage when the sendKey is clicked
                } else {
                    input.value += key.textContent;
                }
            });
        });


          // Enviar mensaje cuando se hace clic en "Enviar"
        function sendMessage() {
            const messageText = input.value.trim();
            if (messageText === "") return;

            const message = document.createElement("div");
            message.classList.add("message", "user");
            message.textContent = messageText;
            chat.appendChild(message);

            input.value = "";
            chat.scrollTop = chat.scrollHeight;


            // Simulación de respuesta automática
            setTimeout(() => {
                receiveMessage("¡Hola! Esto es una respuesta automática.");
            }, 1000);
        }

        function receiveMessage(text) {
            const message = document.createElement("div");
            message.classList.add("message", "other");
            message.textContent = text;
            chat.appendChild(message);
            chat.scrollTop = chat.scrollHeight;
        }


        // Detectar teclas físicas del teclado
        document.addEventListener("keydown", (e) => {
            const key = e.key;

            if (key === "Backspace") {
                input.value = input.value.slice(0, -1);
            } else if (key === "Enter") {
                sendMessage();
            } else if (key.length === 1 || key === " ") {
                input.value += key;
            }
        });
    </script>


    <footer>
        <div class="social-links">
            <p>Redes sociales</p>
            <a href="#"><img src="../IMG/fb.png" alt="Facebook"></a>
            <a href="#"><img src="../IMG/instagram.jpeg" alt="Instagram"></a>
        </div>
    </footer>
</body>
</html>
